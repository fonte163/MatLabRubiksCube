% Farbreihenfolge: w,r,b,o,gr,ge
% Würfel halten, dass dich die rote Fläche anguckt, weiß oben, weiß und rot wie man sie sieht, für b,o,gr würfel drehen und für ge Würfel von Ausgangsposition nach oben kippen
% dann Flächenreihenfolge: ol, om, or, rm, ur, um, ul, lm

% mögliche Farben
c = [[1,1,1]; [1,0,0]; [0,0,1]; [1,0.6,0]; [0,1,0]; [1,1,0]];

% w speichert Farben, standardmäßig gelöst
w=[];
for i = 1:6
    for j = 1:8
        w(i,j,:) = c(i,:);
    end
end

% pos speichert mögliche Flächenositionen
pos = [[[0,1,1,0], [3,3,2,2], [3,3,3,3]],  [[1,2,2,1], [3,3,2,2], [3,3,3,3]], [[2,3,3,2],[3,3,2,2],[3,3,3,3]], [[2,3,3,2],[2,2,1,1],[3,3,3,3]], [[2,3,3,2],[1,1,0,0],[3,3,3,3]], [[1,2,2,1],[1,1,0,0],[3,3,3,3]], [[0,1,1,0],[1,1,0,0],[3,3,3,3]], [[0,1,1,0],[2,2,1,1],[3,3,3,3]]; % weiß
       [[0,1,1,0], [0,0,0,0], [3,3,2,2]],  [[1,2,2,1], [0,0,0,0], [3,3,2,2]], [[2,3,3,2],[0,0,0,0],[3,3,2,2]], [[2,3,3,2],[0,0,0,0],[2,2,1,1]], [[2,3,3,2],[0,0,0,0],[1,1,0,0]], [[1,2,2,1],[0,0,0,0],[1,1,0,0]], [[0,1,1,0],[0,0,0,0],[1,1,0,0]], [[0,1,1,0],[0,0,0,0],[2,2,1,1]]; % rot
       [[3,3,3,3], [0,1,1,0], [3,3,2,2]],  [[3,3,3,3], [1,2,2,1], [3,3,2,2]], [[3,3,3,3],[2,3,3,2],[3,3,2,2]], [[3,3,3,3],[2,3,3,2],[2,2,1,1]], [[3,3,3,3],[2,3,3,2],[1,1,0,0]], [[3,3,3,3],[1,2,2,1],[1,1,0,0]], [[3,3,3,3],[0,1,1,0],[1,1,0,0]], [[3,3,3,3],[0,1,1,0],[2,2,1,1]]; % blau
       [[3,2,2,3], [3,3,3,3], [3,3,2,2]],  [[2,1,1,2], [3,3,3,3], [3,3,2,2]], [[1,0,0,1],[3,3,3,3],[3,3,2,2]], [[1,0,0,1],[3,3,3,3],[2,2,1,1]], [[1,0,0,1],[3,3,3,3],[1,1,0,0]], [[2,1,1,2],[3,3,3,3],[1,1,0,0]], [[3,2,2,3],[3,3,3,3],[1,1,0,0]], [[3,2,2,3],[3,3,3,3],[2,2,1,1]]; % orange
       [[0,0,0,0], [3,2,2,3], [3,3,2,2]],  [[0,0,0,0], [2,1,1,2], [3,3,2,2]], [[0,0,0,0],[1,0,0,1],[3,3,2,2]], [[0,0,0,0],[1,0,0,1],[2,2,1,1]], [[0,0,0,0],[1,0,0,1],[1,1,0,0]], [[0,0,0,0],[2,1,1,2],[1,1,0,0]], [[0,0,0,0],[3,2,2,3],[1,1,0,0]], [[0,0,0,0],[3,2,2,3],[2,2,1,1]]; % grün
       [[0,1,1,0], [0,0,1,1], [0,0,0,0]],  [[1,2,2,1], [0,0,1,1], [0,0,0,0]], [[2,3,3,2],[0,0,1,1],[0,0,0,0]], [[2,3,3,2],[1,1,2,2],[0,0,0,0]], [[2,3,3,2],[2,2,3,3],[0,0,0,0]], [[1,2,2,1],[2,2,3,3],[0,0,0,0]], [[0,1,1,0],[2,2,3,3],[0,0,0,0]], [[1,0,0,1],[1,1,2,2],[0,0,0,0]]];% weiß

% also z.B. sollte pos(1,1) die Eckpunke der oberen linken weißen Fläche geben, genauer gesagt [0,1,1,0] als x-Koordinaten, [3,3,2,2] als y und [3,3,3,3] als z

initdraw(pos, w);
k = 0;
while true
    view([k 45]);
    k = k + 20;
    if k == 360, k = 0; end
    drawnow;
    pause(1);
end



function [] = initdraw(pos, w)
	% "zeichnet" Würfel zum ersten Mal
	figure
	axis off
    axis equal
  	% Mitten
  	patch([1,2,2,1],[2,2,1,1],[3,3,3,3],'w');
  	patch([1,2,2,1],[0,0,0,0],[2,2,1,1],'r');
  	patch([3,3,3,3],[1,2,2,1],[2,2,1,1],'b');
  	patch([2,1,1,2],[3,3,3,3],[2,2,1,1],[1,0.6,0]);
  	patch([0,0,0,0],[2,1,1,2],[2,2,1,1],'g');
  	patch([1,2,2,1],[1,1,2,2],[0,0,0,0],'y');
  	% restliche Flächen
  	for i = 1:6
    	for j = 0:7
      		patch(pos(i,(1+12*j):(4+12*j)), pos(i,(5+12*j):(8+12*j)), pos(i,(9+12*j):(12+12*j)), w(i,j+1,:));
    	end
  	end
end

function [] = refreshfigure()
	% aktualisiert Würfel
	clf
	for i = 1:6
    	for j = 1:8
      		buf = pos(i,j);
      		patch(buf(1,:), buf(2,:), buf(3,:), w(i,j,:));
    	end
  	end
end

function [] = rotate(dir)
	% dir sind mögliche Drehungen



end
